{"version":"tree-0.1","tree":{"id":"App","path":"","children":{"HighAvailabilityVPC":{"id":"HighAvailabilityVPC","path":"HighAvailabilityVPC","children":{"HighAvailabilityVPC":{"id":"HighAvailabilityVPC","path":"HighAvailabilityVPC/HighAvailabilityVPC","children":{"Resource":{"id":"Resource","path":"HighAvailabilityVPC/HighAvailabilityVPC/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.186.0"}},"PublicSubnet1":{"id":"PublicSubnet1","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1","children":{"Subnet":{"id":"Subnet","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1"}],"vpcId":{"Ref":"HighAvailabilityVPC20615178"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.186.0"}},"Acl":{"id":"Acl","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1"}],"vpcId":{"Ref":"HighAvailabilityVPC20615178"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.186.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"HighAvailabilityVPCPublicSubnet1RouteTableFCB8A4E2"},"subnetId":{"Ref":"HighAvailabilityVPCPublicSubnet1Subnet97AEB9B4"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.186.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"HighAvailabilityVPCIGW93D1E722"},"routeTableId":{"Ref":"HighAvailabilityVPCPublicSubnet1RouteTableFCB8A4E2"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.186.0"}},"EIP":{"id":"EIP","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1/EIP","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::EIP","aws:cdk:cloudformation:props":{"domain":"vpc","tags":[{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnEIP","version":"2.186.0"}},"NATGateway":{"id":"NATGateway","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1/NATGateway","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::NatGateway","aws:cdk:cloudformation:props":{"allocationId":{"Fn::GetAtt":["HighAvailabilityVPCPublicSubnet1EIP03F87E28","AllocationId"]},"subnetId":{"Ref":"HighAvailabilityVPCPublicSubnet1Subnet97AEB9B4"},"tags":[{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet1"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnNatGateway","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.186.0","metadata":[]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet2","children":{"Subnet":{"id":"Subnet","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"Public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet2"}],"vpcId":{"Ref":"HighAvailabilityVPC20615178"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.186.0"}},"Acl":{"id":"Acl","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet2"}],"vpcId":{"Ref":"HighAvailabilityVPC20615178"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.186.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"HighAvailabilityVPCPublicSubnet2RouteTable710D2C5E"},"subnetId":{"Ref":"HighAvailabilityVPCPublicSubnet2Subnet90D00118"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.186.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"HighAvailabilityVPC/HighAvailabilityVPC/PublicSubnet2/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"HighAvailabilityVPCIGW93D1E722"},"routeTableId":{"Ref":"HighAvailabilityVPCPublicSubnet2RouteTable710D2C5E"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.186.0","metadata":[]}},"PrivateSubnet1":{"id":"PrivateSubnet1","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet1","children":{"Subnet":{"id":"Subnet","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet1/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.2.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet1"}],"vpcId":{"Ref":"HighAvailabilityVPC20615178"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.186.0"}},"Acl":{"id":"Acl","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet1/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet1"}],"vpcId":{"Ref":"HighAvailabilityVPC20615178"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.186.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet1/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"HighAvailabilityVPCPrivateSubnet1RouteTable3E5C83AE"},"subnetId":{"Ref":"HighAvailabilityVPCPrivateSubnet1Subnet9E98EB14"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.186.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet1/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"HighAvailabilityVPCPublicSubnet1NATGateway662C34D5"},"routeTableId":{"Ref":"HighAvailabilityVPCPrivateSubnet1RouteTable3E5C83AE"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.186.0","metadata":[]}},"PrivateSubnet2":{"id":"PrivateSubnet2","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet2","children":{"Subnet":{"id":"Subnet","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet2/Subnet","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.3.0/24","mapPublicIpOnLaunch":false,"tags":[{"key":"aws-cdk:subnet-name","value":"Private"},{"key":"aws-cdk:subnet-type","value":"Private"},{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet2"}],"vpcId":{"Ref":"HighAvailabilityVPC20615178"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.186.0"}},"Acl":{"id":"Acl","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet2/RouteTable","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet2"}],"vpcId":{"Ref":"HighAvailabilityVPC20615178"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.186.0"}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet2/RouteTableAssociation","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"HighAvailabilityVPCPrivateSubnet2RouteTable2CB95F14"},"subnetId":{"Ref":"HighAvailabilityVPCPrivateSubnet2Subnet7B1D60F8"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.186.0"}},"DefaultRoute":{"id":"DefaultRoute","path":"HighAvailabilityVPC/HighAvailabilityVPC/PrivateSubnet2/DefaultRoute","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","natGatewayId":{"Ref":"HighAvailabilityVPCPublicSubnet1NATGateway662C34D5"},"routeTableId":{"Ref":"HighAvailabilityVPCPrivateSubnet2RouteTable2CB95F14"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PrivateSubnet","version":"2.186.0","metadata":[]}},"IGW":{"id":"IGW","path":"HighAvailabilityVPC/HighAvailabilityVPC/IGW","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"HighAvailabilityVPC/HighAvailabilityVPC"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.186.0"}},"VPCGW":{"id":"VPCGW","path":"HighAvailabilityVPC/HighAvailabilityVPC/VPCGW","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"HighAvailabilityVPCIGW93D1E722"},"vpcId":{"Ref":"HighAvailabilityVPC20615178"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.186.0","metadata":[]}},"CDKMetadata":{"id":"CDKMetadata","path":"HighAvailabilityVPC/CDKMetadata","children":{"Default":{"id":"Default","path":"HighAvailabilityVPC/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.186.0"}},"Condition":{"id":"Condition","path":"HighAvailabilityVPC/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.186.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Exports":{"id":"Exports","path":"HighAvailabilityVPC/Exports","children":{"Output{\"Ref\":\"HighAvailabilityVPC20615178\"}":{"id":"Output{\"Ref\":\"HighAvailabilityVPC20615178\"}","path":"HighAvailabilityVPC/Exports/Output{\"Ref\":\"HighAvailabilityVPC20615178\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.186.0"}},"Output{\"Ref\":\"HighAvailabilityVPCPrivateSubnet1Subnet9E98EB14\"}":{"id":"Output{\"Ref\":\"HighAvailabilityVPCPrivateSubnet1Subnet9E98EB14\"}","path":"HighAvailabilityVPC/Exports/Output{\"Ref\":\"HighAvailabilityVPCPrivateSubnet1Subnet9E98EB14\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.186.0"}},"Output{\"Ref\":\"HighAvailabilityVPCPrivateSubnet2Subnet7B1D60F8\"}":{"id":"Output{\"Ref\":\"HighAvailabilityVPCPrivateSubnet2Subnet7B1D60F8\"}","path":"HighAvailabilityVPC/Exports/Output{\"Ref\":\"HighAvailabilityVPCPrivateSubnet2Subnet7B1D60F8\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.186.0"}},"Output{\"Ref\":\"HighAvailabilityVPCPublicSubnet1Subnet97AEB9B4\"}":{"id":"Output{\"Ref\":\"HighAvailabilityVPCPublicSubnet1Subnet97AEB9B4\"}","path":"HighAvailabilityVPC/Exports/Output{\"Ref\":\"HighAvailabilityVPCPublicSubnet1Subnet97AEB9B4\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.186.0"}},"Output{\"Ref\":\"HighAvailabilityVPCPublicSubnet2Subnet90D00118\"}":{"id":"Output{\"Ref\":\"HighAvailabilityVPCPublicSubnet2Subnet90D00118\"}","path":"HighAvailabilityVPC/Exports/Output{\"Ref\":\"HighAvailabilityVPCPublicSubnet2Subnet90D00118\"}","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.186.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"HighAvailabilityVPC/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.186.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"HighAvailabilityVPC/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.186.0"}},"HighAvailabilityApp":{"id":"HighAvailabilityApp","path":"HighAvailabilityApp","children":{"InstanceSG":{"id":"InstanceSG","path":"HighAvailabilityApp/InstanceSG","children":{"Resource":{"id":"Resource","path":"HighAvailabilityApp/InstanceSG/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for EC2 instances","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"vpcId":{"Fn::ImportValue":"HighAvailabilityVPC:ExportsOutputRefHighAvailabilityVPC20615178DBE49E9F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.186.0"}},"from HighAvailabilityAppALBSG8881BA07:80":{"id":"from HighAvailabilityAppALBSG8881BA07:80","path":"HighAvailabilityApp/InstanceSG/from HighAvailabilityAppALBSG8881BA07:80","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow HTTP traffic from ALB","fromPort":80,"groupId":{"Fn::GetAtt":["InstanceSG2AE1100C","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ALBSGB173E466","GroupId"]},"toPort":80}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.186.0","metadata":[]}},"ALBSG":{"id":"ALBSG","path":"HighAvailabilityApp/ALBSG","children":{"Resource":{"id":"Resource","path":"HighAvailabilityApp/ALBSG/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Security group for ALB","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"Allow HTTP traffic from anywhere"}],"vpcId":{"Fn::ImportValue":"HighAvailabilityVPC:ExportsOutputRefHighAvailabilityVPC20615178DBE49E9F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.186.0","metadata":[]}},"LaunchTemplate":{"id":"LaunchTemplate","path":"HighAvailabilityApp/LaunchTemplate","children":{"Resource":{"id":"Resource","path":"HighAvailabilityApp/LaunchTemplate/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::LaunchTemplate","aws:cdk:cloudformation:props":{"launchTemplateData":{"imageId":{"Ref":"SsmParameterValueawsserviceamiamazonlinuxlatestamzn2amihvmx8664gp2C96584B6F00A464EAD1953AFF4B05118Parameter"},"instanceType":"t3.micro","securityGroupIds":[{"Fn::GetAtt":["InstanceSG2AE1100C","GroupId"]}],"tagSpecifications":[{"resourceType":"instance","tags":[{"key":"Name","value":"HighAvailabilityApp/LaunchTemplate"}]},{"resourceType":"volume","tags":[{"key":"Name","value":"HighAvailabilityApp/LaunchTemplate"}]}],"userData":{"Fn::Base64":"#!/bin/bash\nexec > >(tee /var/log/user-data.log|logger -t user-data -s 2>/dev/console) 2>&1\necho \"Starting user data script execution\"\nyum update -y\necho \"Yum update completed\"\nyum install -y httpd\necho \"Apache installed\"\nsystemctl start httpd\necho \"Apache started\"\nsystemctl status httpd\necho \"Apache status checked\"\nsystemctl enable httpd\necho \"Apache enabled to start on boot\"\necho \"<h1>Hello from High-Availability Web App!</h1><p>Instance ID: $(curl -s http://169.254.169.254/latest/meta-data/instance-id)</p>\" > /var/www/html/index.html\necho \"Index.html created\"\ncat /var/www/html/index.html\necho \"Index.html content verified\"\necho \"User data script completed\"\n"}},"tagSpecifications":[{"resourceType":"launch-template","tags":[{"key":"Name","value":"HighAvailabilityApp/LaunchTemplate"}]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnLaunchTemplate","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.LaunchTemplate","version":"2.186.0","metadata":[]}},"SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter":{"id":"SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","path":"HighAvailabilityApp/SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.186.0"}},"SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118":{"id":"SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118","path":"HighAvailabilityApp/SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"ASG":{"id":"ASG","path":"HighAvailabilityApp/ASG","children":{"ASG":{"id":"ASG","path":"HighAvailabilityApp/ASG/ASG","attributes":{"aws:cdk:cloudformation:type":"AWS::AutoScaling::AutoScalingGroup","aws:cdk:cloudformation:props":{"desiredCapacity":"2","maxSize":"4","minSize":"1","mixedInstancesPolicy":{"instancesDistribution":{"onDemandPercentageAboveBaseCapacity":0},"launchTemplate":{"launchTemplateSpecification":{"launchTemplateId":{"Ref":"LaunchTemplate04EC5460"},"version":{"Fn::GetAtt":["LaunchTemplate04EC5460","LatestVersionNumber"]}},"overrides":[{"instanceType":"t3.micro"}]}},"tags":[{"key":"aws-cdk:auto-scaling-group:desired-capacity","value":"true","propagateAtLaunch":true}],"targetGroupArns":[{"Ref":"ALBListenerTargetsGroup01D7716A"}],"vpcZoneIdentifier":[{"Fn::ImportValue":"HighAvailabilityVPC:ExportsOutputRefHighAvailabilityVPCPrivateSubnet1Subnet9E98EB1419F94019"},{"Fn::ImportValue":"HighAvailabilityVPC:ExportsOutputRefHighAvailabilityVPCPrivateSubnet2Subnet7B1D60F833E4CA61"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_autoscaling.CfnAutoScalingGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_autoscaling.AutoScalingGroup","version":"2.186.0","metadata":[]}},"ALB":{"id":"ALB","path":"HighAvailabilityApp/ALB","children":{"Resource":{"id":"Resource","path":"HighAvailabilityApp/ALB/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::LoadBalancer","aws:cdk:cloudformation:props":{"loadBalancerAttributes":[{"key":"deletion_protection.enabled","value":"false"}],"scheme":"internet-facing","securityGroups":[{"Fn::GetAtt":["ALBSGB173E466","GroupId"]}],"subnets":[{"Fn::ImportValue":"HighAvailabilityVPC:ExportsOutputRefHighAvailabilityVPCPublicSubnet1Subnet97AEB9B44E48B74D"},{"Fn::ImportValue":"HighAvailabilityVPC:ExportsOutputRefHighAvailabilityVPCPublicSubnet2Subnet90D00118209A79C0"}],"type":"application"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnLoadBalancer","version":"2.186.0"}},"Listener":{"id":"Listener","path":"HighAvailabilityApp/ALB/Listener","children":{"Resource":{"id":"Resource","path":"HighAvailabilityApp/ALB/Listener/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::Listener","aws:cdk:cloudformation:props":{"defaultActions":[{"type":"forward","targetGroupArn":{"Ref":"ALBListenerTargetsGroup01D7716A"}}],"loadBalancerArn":{"Ref":"ALBAEE750D2"},"port":80,"protocol":"HTTP"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnListener","version":"2.186.0"}},"TargetsGroup":{"id":"TargetsGroup","path":"HighAvailabilityApp/ALB/Listener/TargetsGroup","children":{"Resource":{"id":"Resource","path":"HighAvailabilityApp/ALB/Listener/TargetsGroup/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::ElasticLoadBalancingV2::TargetGroup","aws:cdk:cloudformation:props":{"port":80,"protocol":"HTTP","targetGroupAttributes":[{"key":"stickiness.enabled","value":"false"}],"targetType":"instance","vpcId":{"Fn::ImportValue":"HighAvailabilityVPC:ExportsOutputRefHighAvailabilityVPC20615178DBE49E9F"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.CfnTargetGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationTargetGroup","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationListener","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_elasticloadbalancingv2.ApplicationLoadBalancer","version":"2.186.0","metadata":[]}},"HighCPUAlarm":{"id":"HighCPUAlarm","path":"HighAvailabilityApp/HighCPUAlarm","children":{"Resource":{"id":"Resource","path":"HighAvailabilityApp/HighCPUAlarm/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::CloudWatch::Alarm","aws:cdk:cloudformation:props":{"alarmDescription":"Alarm if CPU exceeds 80%","comparisonOperator":"GreaterThanOrEqualToThreshold","datapointsToAlarm":2,"dimensions":[{"name":"AutoScalingGroupName","value":{"Ref":"ASG46ED3070"}}],"evaluationPeriods":2,"metricName":"CPUUtilization","namespace":"AWS/EC2","period":300,"statistic":"Average","threshold":80}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.CfnAlarm","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_cloudwatch.Alarm","version":"2.186.0","metadata":[]}},"BackupVault":{"id":"BackupVault","path":"HighAvailabilityApp/BackupVault","children":{"Resource":{"id":"Resource","path":"HighAvailabilityApp/BackupVault/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Backup::BackupVault","aws:cdk:cloudformation:props":{"backupVaultName":"HighAvailabilityAppVault-HighAvailabilityApp"}},"constructInfo":{"fqn":"aws-cdk-lib.aws_backup.CfnBackupVault","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_backup.BackupVault","version":"2.186.0","metadata":[]}},"BackupPlan":{"id":"BackupPlan","path":"HighAvailabilityApp/BackupPlan","children":{"Resource":{"id":"Resource","path":"HighAvailabilityApp/BackupPlan/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Backup::BackupPlan","aws:cdk:cloudformation:props":{"backupPlan":{"backupPlanName":"BackupPlan","backupPlanRule":[{"lifecycle":{"deleteAfterDays":7},"ruleName":"BackupPlanRule0","scheduleExpression":"cron(0 3 * * ? *)","targetBackupVault":{"Fn::GetAtt":["BackupVault3A9C5852","BackupVaultName"]}}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_backup.CfnBackupPlan","version":"2.186.0"}},"Selection":{"id":"Selection","path":"HighAvailabilityApp/BackupPlan/Selection","children":{"Role":{"id":"Role","path":"HighAvailabilityApp/BackupPlan/Selection/Role","children":{"ImportRole":{"id":"ImportRole","path":"HighAvailabilityApp/BackupPlan/Selection/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"HighAvailabilityApp/BackupPlan/Selection/Role/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"backup.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSBackupServiceRolePolicyForBackup"]]}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.186.0","metadata":[]}},"Resource":{"id":"Resource","path":"HighAvailabilityApp/BackupPlan/Selection/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Backup::BackupSelection","aws:cdk:cloudformation:props":{"backupPlanId":{"Fn::GetAtt":["BackupPlanA8F64793","BackupPlanId"]},"backupSelection":{"iamRoleArn":{"Fn::GetAtt":["BackupPlanSelectionRoleFF9E5076","Arn"]},"selectionName":"Selection","listOfTags":[{"conditionKey":"Name","conditionType":"STRINGEQUALS","conditionValue":"HighAvailabilityApp"}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_backup.CfnBackupSelection","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_backup.BackupSelection","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_backup.BackupPlan","version":"2.186.0","metadata":[]}},"CDKMetadata":{"id":"CDKMetadata","path":"HighAvailabilityApp/CDKMetadata","children":{"Default":{"id":"Default","path":"HighAvailabilityApp/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.186.0"}},"Condition":{"id":"Condition","path":"HighAvailabilityApp/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.186.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"HighAvailabilityApp/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.186.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"HighAvailabilityApp/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.186.0"}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.186.0"}}}